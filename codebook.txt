Testdata_x, Testdata_y and Testdata_subject denote the test datasets.
Traindata_x, Traindata_y and Traindata_subject denote the train datasets.

Testdata is used to merge Testdata_x, Testdata_y and Testdata_subject
Traindata is used to merge Traindata_x, Traindata_y and Traindata_subject
Finally the Testdata and Traindata are merged to form Expt_data.

data_labels              = setdiff(colnames(Expt_data), id_labels)
melt_data                = melt(Expt_data, id = id_labels, measure.vars = data_labels)
tidy_data                = dcast(melt_data, Subject + Activity_Label ~ variable, mean)

write.table(tidy_data, file = "tidy_data.txt",row.name = FALSE)